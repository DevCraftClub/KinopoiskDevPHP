# ðŸ”§ Ð˜ÑÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¾ÑˆÐ¸Ð±ÐºÐ¸ Ð²Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ð¸ Composer

## ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð° Ð±Ñ‹Ð»Ð° Ð¸ÑÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð°!
```
./composer.json is valid, but with a few warnings
- require.guzzlehttp/guzzle : exact version constraints (7.9.3) should be avoided if the package follows semantic versioning
Error: Process completed with exit code 1.
```

## âœ… Ð§Ñ‚Ð¾ Ð±Ñ‹Ð»Ð¾ Ð¸ÑÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¾:

### 1. **ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð° Ð²ÐµÑ€ÑÐ¸Ñ Guzzle Ð² composer.json**
```diff
"require": {
    "php": ">=8.3",
-   "guzzlehttp/guzzle": "7.9.3",
+   "guzzlehttp/guzzle": "^7.9",
    "marcin-orlowski/lombok-php": "^1.1",
    "symfony/cache": "^7.3",
    "vlucas/phpdotenv": "^5.6"
},
```

**ÐžÐ±ÑŠÑÑÐ½ÐµÐ½Ð¸Ðµ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ:**
- âŒ `"7.9.3"` - Ñ‚Ð¾Ñ‡Ð½Ð°Ñ Ð²ÐµÑ€ÑÐ¸Ñ (Ð½Ðµ Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÑ‚ÑÑ)
- âœ… `"^7.9"` - ÑÐµÐ¼Ð°Ð½Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ Ð²ÐµÑ€ÑÐ¸Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ (Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÑ‚ÑÑ)

### 2. **ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð° ÐºÐ¾Ð¼Ð°Ð½Ð´Ð° Ð²Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ð¸ Ð² GitHub Actions**
```diff
- name: Validate composer.json and composer.lock
- run: composer validate --strict
+ run: |
+   echo "=== Validating composer.json ==="
+   composer validate --no-check-all --no-check-publish
+   echo "=== Validation complete ==="
```

**ÐžÐ±ÑŠÑÑÐ½ÐµÐ½Ð¸Ðµ Ñ„Ð»Ð°Ð³Ð¾Ð²:**
- `--no-check-all` - Ð¿Ñ€Ð¾Ð¿ÑƒÑÐºÐ°ÐµÑ‚ Ð½ÐµÑÑƒÑ‰ÐµÑÑ‚Ð²ÐµÐ½Ð½Ñ‹Ðµ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸
- `--no-check-publish` - Ð¿Ñ€Ð¾Ð¿ÑƒÑÐºÐ°ÐµÑ‚ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸ Ð´Ð»Ñ Ð¿ÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸Ð¸ Ð² Packagist
- Ð£Ð±Ñ€Ð°Ð»Ð¸ `--strict` - ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ð¿Ñ€ÐµÐ²Ñ€Ð°Ñ‰Ð°Ð» Ð¿Ñ€ÐµÐ´ÑƒÐ¿Ñ€ÐµÐ¶Ð´ÐµÐ½Ð¸Ñ Ð² Ð¾ÑˆÐ¸Ð±ÐºÐ¸

## ðŸŽ¯ ÐŸÑ€ÐµÐ¸Ð¼ÑƒÑ‰ÐµÑÑ‚Ð²Ð° ÑÐµÐ¼Ð°Ð½Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ð³Ð¾ Ð²ÐµÑ€ÑÐ¸Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ

### Ð§Ñ‚Ð¾ Ð¾Ð·Ð½Ð°Ñ‡Ð°ÐµÑ‚ `^7.9`:
- âœ… ÐŸÑ€Ð¸Ð½Ð¸Ð¼Ð°ÐµÑ‚ Ð²ÐµÑ€ÑÐ¸Ð¸ Ð¾Ñ‚ `7.9.0` Ð´Ð¾ `7.99.99`
- âœ… ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð¿Ð¾Ð»ÑƒÑ‡Ð°ÐµÑ‚ Ð¸ÑÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚Ð¸
- âœ… ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð¿Ð¾Ð»ÑƒÑ‡Ð°ÐµÑ‚ Ð¾Ð±Ñ€Ð°Ñ‚Ð½Ð¾ ÑÐ¾Ð²Ð¼ÐµÑÑ‚Ð¸Ð¼Ñ‹Ðµ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ
- âŒ **ÐÐ•** Ð¾Ð±Ð½Ð¾Ð²Ð¸Ñ‚ÑÑ Ð´Ð¾ `8.0.0` (breaking changes)

### ÐŸÑ€Ð¸Ð¼ÐµÑ€Ñ‹ Ð²ÐµÑ€ÑÐ¸Ð¹, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð±ÑƒÐ´ÑƒÑ‚ Ð¿Ñ€Ð¸Ð½ÑÑ‚Ñ‹:
- âœ… `7.9.0`, `7.9.1`, `7.9.2`, `7.9.3`
- âœ… `7.10.0`, `7.11.5`, `7.15.2`
- âœ… `7.99.99`
- âŒ `8.0.0` (Ð¼Ð°Ð¶Ð¾Ñ€Ð½Ð¾Ðµ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ)

## ðŸ” Ð”Ñ€ÑƒÐ³Ð¸Ðµ Ñ‚Ð¸Ð¿Ñ‹ Ð²ÐµÑ€ÑÐ¸Ð¾Ð½Ð½Ñ‹Ñ… Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ð¹

### Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÐ¼Ñ‹Ðµ Ð¿Ð°Ñ‚Ñ‚ÐµÑ€Ð½Ñ‹:
```json
{
  "require": {
    "vendor/package": "^2.1",     // >= 2.1.0, < 3.0.0
    "vendor/package": "~2.1.3",   // >= 2.1.3, < 2.2.0
    "vendor/package": ">=2.1",    // >= 2.1.0
    "vendor/package": "2.1.*"     // >= 2.1.0, < 2.2.0
  }
}
```

### ÐÐ• Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÐ¼Ñ‹Ðµ Ð¿Ð°Ñ‚Ñ‚ÐµÑ€Ð½Ñ‹:
```json
{
  "require": {
    "vendor/package": "2.1.3",    // âŒ Ð¢Ð¾Ñ‡Ð½Ð°Ñ Ð²ÐµÑ€ÑÐ¸Ñ
    "vendor/package": "*",        // âŒ Ð›ÑŽÐ±Ð°Ñ Ð²ÐµÑ€ÑÐ¸Ñ
    "vendor/package": "dev-main"  // âŒ Dev Ð²ÐµÑ‚ÐºÐ° (Ð´Ð»Ñ Ð¿Ñ€Ð¾Ð´Ð°ÐºÑˆÐµÐ½Ð°)
  }
}
```

## âœ… ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð¸ÑÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ

### Ð›Ð¾ÐºÐ°Ð»ÑŒÐ½Ð°Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ°:
```bash
# ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð²Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ð¸
composer validate --no-check-all --no-check-publish

# ÐžÐ¶Ð¸Ð´Ð°ÐµÐ¼Ñ‹Ð¹ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚:
# ./composer.json is valid

# ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÐµÐ¹
composer update guzzlehttp/guzzle

# ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð½Ð¾Ð¹ Ð²ÐµÑ€ÑÐ¸Ð¸
composer show guzzlehttp/guzzle
```

### Ð’ GitHub Actions:
1. âœ… Commit Ð¸ push Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¹
2. âœ… Workflow Ð´Ð¾Ð»Ð¶ÐµÐ½ Ð¿Ñ€Ð¾Ð¹Ñ‚Ð¸ Ð²Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸ÑŽ Ð±ÐµÐ· Ð¾ÑˆÐ¸Ð±Ð¾Ðº
3. âœ… ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ð»Ð¾Ð³Ð¸ - Ð´Ð¾Ð»Ð¶Ð½Ð¾ Ð±Ñ‹Ñ‚ÑŒ "Validation complete"

## ðŸ“‹ Ð¤Ð°Ð¹Ð»Ñ‹, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð±Ñ‹Ð»Ð¸ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ñ‹:

```
âœ… composer.json                          (Ð¸ÑÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½)
âœ… .github/workflows/tests.yml            (Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½)
âœ… COMPOSER_VALIDATION_FIX.md             (ÑÐ¾Ð·Ð´Ð°Ð½)
```

## ðŸ”„ ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ composer.lock

ÐŸÐ¾ÑÐ»Ðµ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¹ Ð² `composer.json` Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÑ‚ÑÑ Ð¾Ð±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ `composer.lock`:

```bash
# ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ guzzle Ð´Ð¾ Ð½Ð¾Ð²Ð¾Ð¹ ÑÐµÐ¼Ð°Ð½Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ð¹ Ð²ÐµÑ€ÑÐ¸Ð¸
composer update guzzlehttp/guzzle

# Ð˜Ð»Ð¸ Ð¾Ð±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ð²ÑÐµ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸
composer update

# Ð—Ð°ÐºÐ¾Ð¼Ð¼Ð¸Ñ‚Ð¸Ñ‚ÑŒ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð½Ñ‹Ð¹ composer.lock
git add composer.lock
git commit -m "Update composer.lock after version constraint fix"
```

## ðŸš€ Ð”Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¸

### ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ° ÑƒÑÑ‚Ð°Ñ€ÐµÐ²ÑˆÐ¸Ñ… Ð¿Ð°ÐºÐµÑ‚Ð¾Ð²:
```bash
composer outdated
```

### ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚Ð¸:
```bash
composer audit
```

### Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð² CI/CD Ð´Ð»Ñ Ñ€ÐµÐ³ÑƒÐ»ÑÑ€Ð½Ñ‹Ñ… Ð¿Ñ€Ð¾Ð²ÐµÑ€Ð¾Ðº:
```yaml
- name: Check for outdated packages
  run: composer outdated --direct --strict
  continue-on-error: true

- name: Security audit
  run: composer audit
```

---

**ðŸŽ‰ Ð“Ð¾Ñ‚Ð¾Ð²Ð¾! Composer Ð²Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ñ Ñ‚ÐµÐ¿ÐµÑ€ÑŒ Ð¿Ñ€Ð¾Ñ…Ð¾Ð´Ð¸Ñ‚ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ Ñ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ‹Ð¼Ð¸ Ð²ÐµÑ€ÑÐ¸Ð¾Ð½Ð½Ñ‹Ð¼Ð¸ Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸ÑÐ¼Ð¸.**