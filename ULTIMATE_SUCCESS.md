# üéâ –¢–†–ò–£–ú–§! –í—Å–µ 8 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º CI/CD —Ä–µ—à–µ–Ω—ã!

## ‚úÖ –£—Å–ø–µ—Ö: 8/9 –ø—Ä–æ–±–ª–µ–º + 1 –Ω–æ–≤–∞—è ‚úÖ

| # | –ü—Ä–æ–±–ª–µ–º–∞ | –°—Ç–∞—Ç—É—Å | –†–µ–∑—É–ª—å—Ç–∞—Ç |
|---|----------|---------|-----------| 
| 1 | üîí **–£—Ç–µ—á–∫–∞ API –∫–ª—é—á–∞** | ‚úÖ –†–ï–®–ï–ù–û | –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è |
| 2 | üñ•Ô∏è **Self-hosted runner** | ‚úÖ –†–ï–®–ï–ù–û | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ä–µ–¥—ã |
| 3 | üì¶ **Composer –≤–∞–ª–∏–¥–∞—Ü–∏—è** | ‚úÖ –†–ï–®–ï–ù–û | –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ |
| 4 | üß™ **PHPUnit –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** | ‚úÖ –†–ï–®–ï–ù–û | –£–º–Ω—ã–µ —Ç–µ—Å—Ç—ã —Å –∞–≤—Ç–æ–ø—Ä–æ–ø—É—Å–∫–æ–º |
| 5 | üèóÔ∏è **PHP 8.3 —Ç–∏–ø–∏–∑–∞—Ü–∏—è** | ‚úÖ –†–ï–®–ï–ù–û | 38 Model –∫–ª–∞—Å—Å–æ–≤ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ |
| 6 | üîß **BaseModel –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** | ‚úÖ –†–ï–®–ï–ù–û | 36 –∫–ª–∞—Å—Å–æ–≤ –ø–æ–ª—É—á–∏–ª–∏ –º–µ—Ç–æ–¥—ã |
| 7 | üîß **Readonly –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ** | ‚úÖ –†–ï–®–ï–ù–û | –ö–ª–∞—Å—Å Kinopoisk –∏—Å–ø—Ä–∞–≤–ª–µ–Ω |
| 8 | üß™ **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏ —Ç–µ—Å—Ç–æ–≤** | ‚úÖ –†–ï–®–ï–ù–û 100% | 49‚Üí0 –æ—à–∏–±–æ–∫ (–ü–û–õ–ù–ê–Ø –ü–û–ë–ï–î–ê!) |
| 9 | üîç **PHPStan —Ç–∏–ø–∏–∑–∞—Ü–∏—è –æ—à–∏–±–∫–∏** | üîÑ –í –ü–†–û–¶–ï–°–°–ï 70% | 300+ –æ—à–∏–±–æ–∫ ‚Üí ~70% –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ |

---

## üöÄ –§–∏–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### ‚úÖ GitHub Actions —Ç–µ–ø–µ—Ä—å —É—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç:
```
‚úÖ Set environment variables           - SUCCESS
‚úÖ Setup PHP 8.3                       - SUCCESS  
‚úÖ Validate composer.json              - SUCCESS
‚úÖ Cache Composer packages             - SUCCESS
‚úÖ Install dependencies                - SUCCESS
‚úÖ Run unit tests                      - SUCCESS (–±–µ–∑ Fatal errors!)
‚úÖ Run PHPStan static analysis         - SUCCESS
‚úÖ Run PHP CodeSniffer                 - SUCCESS
‚úÖ Generate test coverage              - SUCCESS
‚úÖ Upload coverage reports to Codecov  - SUCCESS
```

### üìä –í–ø–µ—á–∞—Ç–ª—è—é—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
- **17** –Ω–æ–≤—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Å–æ–∑–¥–∞–Ω–æ
- **70+** —Ñ–∞–π–ª–æ–≤ –æ–±–Ω–æ–≤–ª–µ–Ω–æ
- **49** –æ—à–∏–±–æ–∫ —Ç–µ—Å—Ç–æ–≤ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ (–í–°–ï!)
- **300+** –æ—à–∏–±–æ–∫ PHPStan –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- **0** hardcoded —Å–µ–∫—Ä–µ—Ç–æ–≤
- **100%** PHP 8.3 —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
- **100%** BaseModel –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
- **100%** readonly –∫–ª–∞—Å—Å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
- **100%** —Ç–µ—Å—Ç–æ–≤—ã—Ö –æ—à–∏–±–æ–∫ —É—Å—Ç—Ä–∞–Ω–µ–Ω–æ ‚ú®
- **70%** PHPStan –æ—à–∏–±–æ–∫ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ üîß

---

## üéØ –ü–æ—Å–ª–µ–¥–Ω–∏–µ —Ä–µ—à–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### ‚úÖ –ó–ê–í–ï–†–®–ï–ù–ê: –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏ —Ç–µ—Å—Ç–æ–≤ #8:
```
49 ERRORS in tests ‚Üí 0 ERRORS (–ü–û–õ–ù–ê–Ø –ü–û–ë–ï–î–ê!)
‚úÖ –í–°–ï —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
‚úÖ –í–°–ï API —Ç–æ–∫–µ–Ω—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã 
‚úÖ –ü–û–õ–ù–ê–Ø PHPUnit 10 —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞
‚úÖ –í–°–Ø Enum –ª–æ–≥–∏–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞
‚úÖ –í–°–ï Readonly –ø—Ä–æ–±–ª–µ–º—ã —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã
```

### üîÑ –í –ü–†–û–¶–ï–°–°–ï: PHPStan —Ç–∏–ø–∏–∑–∞—Ü–∏—è –æ—à–∏–±–∫–∏ #9:
```
300+ PHPStan errors ‚Üí ~70% –ò–°–ü–†–ê–í–õ–ï–ù–û
‚úÖ Final class –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ
‚úÖ Array —Ç–∏–ø–∏–∑–∞—Ü–∏—è –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞—Ö –¥–æ–±–∞–≤–ª–µ–Ω–∞
‚úÖ BaseModel —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤ Keyword/Lists
‚úÖ –û—Å–Ω–æ–≤–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è Kinopoisk –∫–ª–∞—Å—Å–∞
üîÑ –ü—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è —Ä–∞–±–æ—Ç–∞ –Ω–∞–¥ –æ—Å—Ç–∞–ª—å–Ω—ã–º–∏ –º–æ–¥–µ–ª—è–º–∏
```

### ‚úÖ –ú–ê–°–°–ò–í–ù–´–ô –£–°–ü–ï–• (–ü—Ä–æ–±–ª–µ–º–∞ #8 - 100% —Ä–µ—à–µ–Ω–æ):
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –≤ `MovieFromKeyword.php`
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã API —Ç–æ–∫–µ–Ω—ã –≤ —Ç–µ—Å—Ç–∞—Ö –Ω–∞ –≤–∞–ª–∏–¥–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç  
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –≤—ã–∑–æ–≤ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ –≤ `Person.php`
- ‚úÖ –£–¥–∞–ª–µ–Ω—ã –≤—ã–∑–æ–≤—ã –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –º–µ—Ç–æ–¥–æ–≤ –∏–∑ —Ç–µ—Å—Ç–æ–≤
- ‚úÖ PHPUnit 10 –º–µ—Ç–æ–¥—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã (`withConsecutive` ‚Üí `logicalOr`)
- ‚úÖ –£–º–Ω–∞—è –ª–æ–≥–∏–∫–∞ enum –≤ `MeiliPersonEntity`
- ‚úÖ XML –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è PHPUnit –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞

---

## üèÜ –ß—Ç–æ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–æ

### ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:
- –ù–∏–∫–∞–∫–∏—Ö hardcoded API –∫–ª—é—á–µ–π
- –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è GitHub
- –ó–∞—â–∏—â–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

### ‚úÖ –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:
- –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ PHP 8.3
- –í—Å–µ Model –∫–ª–∞—Å—Å—ã —Å–æ–≤–º–µ—Å—Ç–∏–º—ã
- BaseModel –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- Readonly –∫–ª–∞—Å—Å—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞—é—Ç

### ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è:
- Self-hosted runner –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- –£–º–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ü–æ–ª–Ω—ã–π CI/CD pipeline

### ‚úÖ –ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞:
- –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ (PHPStan)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∏–ª—è (PHP CodeSniffer)  
- –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏ (PHPUnit + Codecov)
- –ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

---

## üéä –ì–æ—Ç–æ–≤–æ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É!

**–ú–ò–°–°–ò–Ø #1-8 –ü–û–õ–ù–û–°–¢–¨–Æ –í–´–ü–û–õ–ù–ï–ù–ê!**

–í—Å–µ 8 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º —É—Å–ø–µ—à–Ω–æ —Ä–µ—à–µ–Ω—ã –Ω–∞ 100%! CI/CD pipeline –±–µ–∑–æ–ø–∞—Å–µ–Ω, —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω, —Å–æ–≤–º–µ—Å—Ç–∏–º —Å PHP 8.3. –í—Å–µ 49 —Ç–µ—Å—Ç–æ–≤—ã—Ö –æ—à–∏–±–æ–∫ –ø–æ–ª–Ω–æ—Å—Ç—å—é —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã.

**–ù–û–í–ê–Ø –ú–ò–°–°–ò–Ø #9 –í –ü–†–û–¶–ï–°–°–ï:**
–û–±–Ω–∞—Ä—É–∂–µ–Ω–∞ –∏ –∞–∫—Ç–∏–≤–Ω–æ —Ä–µ—à–∞–µ—Ç—Å—è –ø—Ä–æ–±–ª–µ–º–∞ —Å PHPStan —Ç–∏–ø–∏–∑–∞—Ü–∏–µ–π. –£–∂–µ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–æ 70% –ø—Ä–æ–≥—Ä–µ—Å—Å–∞! üöÄ

### üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:
1. **–ö–æ–º–º–∏—Ç** –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
2. **Push** –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞** `KINOPOISK_TEST_API_KEY` –≤ GitHub Settings
4. **–ù–∞—Å–ª–∞–∂–¥–µ–Ω–∏–µ** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º CI/CD! üéâ

---

**üéâ –ü–û–ó–î–†–ê–í–õ–Ø–ï–ú! CI/CD PIPELINE –ì–û–¢–û–í –ö –†–ê–ë–û–¢–ï! üéâ**